<!DOCTYPE html>
<html lang="en">
<head>
  
    <title>มาลองใช้ Python สร้างโมเดล Predict ค่า Sound Transmission loss (TL/STC) :: Bozzlab — Personal Website</title>
  
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta name="description" content="บทความนี้จะกล่าวถึง วิธีการคำนวณและผลลัพธ์แบบคร่าว ๆ ซึ่งใช้เพื่อการศึกษาเท่านั้น ไม่สามารถนำค่าคำนวณ ไปใช้เพื่ออ้างอิงสำหรับ การก่อสร้างจริงได้นะครับ
Click อ่าน Part 2 : Double Panel and Double Panel with Absorber Insulation, Stud Connection
 ก่อนอื่น เรามาดูกันว่า Sound Tranmission Loss , STC คืออะไรกันก่อน Sound Transmission Loss คืออะไร ?
 Sound Transmission Loss คืออะไร ? 
 รูปที่ 1 แสดงตัวอย่าง Sound Transmission loss 
คือ ดัชนีที่บ่งบอกถึงประสิทธิภาพของการป้องกันเสียง ในทีนี้เราจะหมายถึง ผนัง กำแพง กระจก ที่เป็นตัวกลางกั้นห้องนั้น (Partition) ว่ามีประสิทธิภาพป้องกันเสียงได้เท่าไร
โดยจากรูปที่ 1 จะเห็นว่า มีพลังงานเสียงความถี่หลายจำนวน ซึ่งมีระดับความดังที่แตกต่างกัน และความดังเสียงที่ผ่านกำแพงนี้ไปก็จะถูกลดทอนในระดับที่แตกต่างกันตามความถี่ต่าง ๆ เช่น
 ความถี่ี่ 125 Hz 80–60 = 20 dB"/>
<meta name="keywords" content="Bozzlab"/>
<meta name="robots" content="noodp"/>
<link rel="canonical" href="/post/model_stc_p1/" />


<link rel="stylesheet" href="/assets/style.css">


<link rel="stylesheet" href="/style.css">


<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/img/apple-touch-icon-144-precomposed.png">
<link rel="shortcut icon" href="/img/favicon.png">


<meta name="twitter:card" content="summary" />
<meta name="twitter:title" content="มาลองใช้ Python สร้างโมเดล Predict ค่า Sound Transmission loss (TL/STC) :: Bozzlab — Personal Website" />
<meta name="twitter:description" content="บทความนี้จะกล่าวถึง วิธีการคำนวณและผลลัพธ์แบบคร่าว ๆ ซึ่งใช้เพื่อการศึกษาเท่านั้น ไม่สามารถนำค่าคำนวณ ไปใช้เพื่ออ้างอิงสำหรับ การก่อสร้างจริงได้นะครับ
Click อ่าน Part 2 : Double Panel and Double Panel with Absorber Insulation, Stud Connection
 ก่อนอื่น เรามาดูกันว่า Sound Tranmission Loss , STC คืออะไรกันก่อน Sound Transmission Loss คืออะไร ?
 Sound Transmission Loss คืออะไร ? 
 รูปที่ 1 แสดงตัวอย่าง Sound Transmission loss 
คือ ดัชนีที่บ่งบอกถึงประสิทธิภาพของการป้องกันเสียง ในทีนี้เราจะหมายถึง ผนัง กำแพง กระจก ที่เป็นตัวกลางกั้นห้องนั้น (Partition) ว่ามีประสิทธิภาพป้องกันเสียงได้เท่าไร
โดยจากรูปที่ 1 จะเห็นว่า มีพลังงานเสียงความถี่หลายจำนวน ซึ่งมีระดับความดังที่แตกต่างกัน และความดังเสียงที่ผ่านกำแพงนี้ไปก็จะถูกลดทอนในระดับที่แตกต่างกันตามความถี่ต่าง ๆ เช่น
 ความถี่ี่ 125 Hz 80–60 = 20 dB" />
<meta name="twitter:site" content="/" />
<meta name="twitter:creator" content="Bozz Srinikorn" />
<meta name="twitter:image" content="/p1.png">


<meta property="og:locale" content="en" />
<meta property="og:type" content="article" />
<meta property="og:title" content="มาลองใช้ Python สร้างโมเดล Predict ค่า Sound Transmission loss (TL/STC) :: Bozzlab — Personal Website">
<meta property="og:description" content="บทความนี้จะกล่าวถึง วิธีการคำนวณและผลลัพธ์แบบคร่าว ๆ ซึ่งใช้เพื่อการศึกษาเท่านั้น ไม่สามารถนำค่าคำนวณ ไปใช้เพื่ออ้างอิงสำหรับ การก่อสร้างจริงได้นะครับ
Click อ่าน Part 2 : Double Panel and Double Panel with Absorber Insulation, Stud Connection
 ก่อนอื่น เรามาดูกันว่า Sound Tranmission Loss , STC คืออะไรกันก่อน Sound Transmission Loss คืออะไร ?
 Sound Transmission Loss คืออะไร ? 
 รูปที่ 1 แสดงตัวอย่าง Sound Transmission loss 
คือ ดัชนีที่บ่งบอกถึงประสิทธิภาพของการป้องกันเสียง ในทีนี้เราจะหมายถึง ผนัง กำแพง กระจก ที่เป็นตัวกลางกั้นห้องนั้น (Partition) ว่ามีประสิทธิภาพป้องกันเสียงได้เท่าไร
โดยจากรูปที่ 1 จะเห็นว่า มีพลังงานเสียงความถี่หลายจำนวน ซึ่งมีระดับความดังที่แตกต่างกัน และความดังเสียงที่ผ่านกำแพงนี้ไปก็จะถูกลดทอนในระดับที่แตกต่างกันตามความถี่ต่าง ๆ เช่น
 ความถี่ี่ 125 Hz 80–60 = 20 dB" />
<meta property="og:url" content="/post/model_stc_p1/" />
<meta property="og:site_name" content="มาลองใช้ Python สร้างโมเดล Predict ค่า Sound Transmission loss (TL/STC)" />
<meta property="og:image" content="/p1.png">
<meta property="og:image:width" content="2048">
<meta property="og:image:height" content="1024">

<meta property="article:published_time" content="2018-11-02 00:00:00 &#43;0000 UTC" />





</head>
<body class="dark-theme">
<div class="container">
  <header class="header">
  <span class="header__inner">
    <a href="/" class="logo" style="text-decoration: none;">
  
    <span class="logo__mark"><svg xmlns="http://www.w3.org/2000/svg" class="greater-icon" width="44" height="44" viewBox="0 0 44 44">
  <polyline fill="none" stroke="#000" stroke-width="2" points="15 8 29.729 22.382 15 35.367"/>
</svg>
</span>
    <span class="logo__text">Bozzlab</span>
    <span class="logo__cursor"></span>
  
</a>

    <span class="header__right">
      
        <nav class="menu">
  <ul class="menu__inner menu__inner--desktop">
    
      
        
          <li><a href="/profile">Profile</a></li>
        
      
        
          <li><a href="/archive">blog</a></li>
        
      
      
    
  </ul>

  <ul class="menu__inner menu__inner--mobile">
    
      
        <li><a href="/profile">Profile</a></li>
      
    
      
        <li><a href="/archive">blog</a></li>
      
    
  </ul>
</nav>

        <span class="menu-trigger">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M0 0h24v24H0z" fill="none"/>
            <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
          </svg>
        </span>
      
      <span class="theme-toggle">
        <svg class="theme-toggler" width="24" height="24" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M22 41C32.4934 41 41 32.4934 41 22C41 11.5066 32.4934 3 22
  3C11.5066 3 3 11.5066 3 22C3 32.4934 11.5066 41 22 41ZM7 22C7
  13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22Z"/>
</svg>

      </span>
    </span>
  </span>
</header>


  <div class="content">
    
  <div class="post">
    <h2 class="post-title"><a href="/post/model_stc_p1/">มาลองใช้ Python สร้างโมเดล Predict ค่า Sound Transmission loss (TL/STC)</a></h2>
    <div class="post-meta">
      
        <span class="post-date">
            2018-11-02
        </span>
      
      <span class="post-author">— Written by Bozz Srinikorn</span>
      
        <span class="post-read-time">— 7 min read</span>
      
    </div>

    
      <span class="post-tags">
        
          #<a href="/tags/acoustics/">Acoustics</a>&nbsp;
        
          #<a href="/tags/stc/">STC</a>&nbsp;
        
          #<a href="/tags/python/">Python</a>&nbsp;
        
      </span>
    

    
      
        <img src="/p1.png" class="post-cover" />
      
    

    <div class="post-content">
      

<p>บทความนี้จะกล่าวถึง วิธีการคำนวณและผลลัพธ์แบบคร่าว ๆ ซึ่งใช้เพื่อการศึกษาเท่านั้น ไม่สามารถนำค่าคำนวณ ไปใช้เพื่ออ้างอิงสำหรับ การก่อสร้างจริงได้นะครับ</p>

<p><a href="../model_stc_p2">Click</a> อ่าน Part 2 : Double Panel and Double Panel with Absorber Insulation, Stud Connection</p>

<blockquote>
<p>ก่อนอื่น เรามาดูกันว่า Sound Tranmission Loss , STC คืออะไรกันก่อน
Sound Transmission Loss คืออะไร ?</p>
</blockquote>

<h2 id="sound-transmission-loss-ค-ออะไร">Sound Transmission Loss คืออะไร ?</h2>

<hr />

<p><br>
<img src="https://cdn-images-1.medium.com/max/800/1*5rbJ4zQTrB4_kzpiHOwQjg.png" alt="Bozz" class="center"></p>

<p><center> รูปที่ 1 แสดงตัวอย่าง Sound Transmission loss </center></p>

<p>คือ ดัชนีที่บ่งบอกถึงประสิทธิภาพของการป้องกันเสียง ในทีนี้เราจะหมายถึง ผนัง กำแพง กระจก ที่เป็นตัวกลางกั้นห้องนั้น (Partition) ว่ามีประสิทธิภาพป้องกันเสียงได้เท่าไร</p>

<p>โดยจากรูปที่ 1 จะเห็นว่า มีพลังงานเสียงความถี่หลายจำนวน ซึ่งมีระดับความดังที่แตกต่างกัน และความดังเสียงที่ผ่านกำแพงนี้ไปก็จะถูกลดทอนในระดับที่แตกต่างกันตามความถี่ต่าง ๆ เช่น</p>

<blockquote>
<p><strong>ความถี่ี่ 125 Hz 80–60 = 20 dB</strong><br />
<strong>ความถี่ 500 Hz 120–88 = 32 dB</strong><br />
<strong>ความถีี่ 1,000 Hz 90–40 = 50 dB</strong></p>
</blockquote>

<p>ซึ่งเราเรียกผลต่างนั้นว่า ค่า Sound Transmission loss หรือ ค่าการสูญเสียพลังงานเสียงขณะส่งผ่าน (ชื่อไทย โคตรเท่) ซึ่งก็จะเป็นตัวบ่งบอกว่ากำแพงของเราป้องกันเสียงได้เท่าไรนั้นเอง</p>

<p>ต่อไปนี้ Sound Transmission loss จะใช้คำย่อว่า TL นะครัช</p>

<h2 id="แล-วจะตรวจว-ดหาค-า-tl-ย-งไง">แล้วจะตรวจวัดหาค่า TL ยังไง ?</h2>

<p>โดยหลัก ๆ แล้ว อ้างอิงตาม ASTM E90 (มาตรฐานการวัด TL)<br />
<br>
<img src="https://cdn-images-1.medium.com/max/800/0*05h_Az6dck-E7SUG.png" alt="Bozz" class="center"></p>

<p><center>รูปที่ 2 <a href="https://www.researchgate.net/figure/Laboratory-for-sound-transmission-loss-measurement-Adler-Evo-Company-in-Villastellone_fig1_309548320">https://www.researchgate.net/figure/Laboratory-for-sound-transmission-loss-measurement-Adler-Evo-Company-in-Villastellone_fig1_309548320</a></center></p>

<p>ซึ่งวิธี ก็คือ ให้ฝั่งนึงมีแหล่งกำเนิดเสียง (Source) และอีกฝั่งนึงมีหน้าที่รับเสียง (Receiver) โดยหลักการง่าย ๆ ก็คือ นำค่าที่ได้มาลบกัน ตามที่ด้านบนได้ทำไป แต่หากในความเป็นจริงจะต้องมี Reverb Time เข้าไปคำนวณด้วย เพื่อให้ถูกต้องตามมาตรฐาน ASTM E90</p>

<p>แต่…ถ้าเราจะทำวิธีนี้ได้แปลว่าต้องก่อสร้างเสร็จสมบูรณ์แล้วสิ ? เพราะฉะนั้นมันเลยมีวิธีที่เราสามารถประมาณค่า TL ล่วงหน้าได้เพื่อให้เราสามารถออกแบบให้เหมาะสมกับบริบทของสภาพแวดล้อมนั้น ๆ</p>

<p>โดยสามารถทำได้ 2 วิธี ที่สภาพแวดล้อมในการตรวจวัด อยู่ในสภาวะที่เราสามารถควมคุมได้</p>

<blockquote>
<p>1 .ผลตรวจวัดจากห้องปฎิบัติการ สามารแบ่งได้โดย</p>
</blockquote>

<p>1.1 ) ห้อง Anechoic Chamber</p>

<p><br>
<img src="https://cdn-images-1.medium.com/max/800/0*IdGdvg5hMSQizWDU.jpg" alt="Bozz" class="center"></p>

<p><center>รูปที่ 3 <a href="https://www.noe.co.jp/en/development/dev02.html">https://www.noe.co.jp/en/development/dev02.html</a></center></p>

<p>โดยปกติห้อง Chamber จะเอาไว้ทดสอบอุปกรณ์เสียง เช่น ลำโพง ไมโครโฟน หูฟัง เป็นต้น ซึ่งเป็นห้องที่แทบจะไม่มีเสียงรบกวน และ Reverb ต่ำสุด ๆ ซึ่งจะเงียบถึงโคตรเงียบบบบ</p>

<p>1.2 ) Impedance Tube</p>

<p><br>
<img src="https://cdn-images-1.medium.com/max/800/0*t4_ems3DhR8ZwflS.png" alt="Bozz" class="center"></p>

<p><center>รูปที่ 4 <a href="http://www.mecanum.com/en/products/impedance-tube/">http://www.mecanum.com/en/products/impedance-tube/</a></center></p>

<p>คือ อุปกรณ์ไว้สำหรับการตรวจวัด TL, Absorption Coefficient ( ค่าที่บอกว่าวัสดุนี้มีสามารถดูดซับเสียงเท่าไร ) วิธีนี้ก็คือเราจะนำตัวอย่างเข้าไปในกลางท่อแล้ว วัดเสียงที่ทะลุผ่านมาจากอีกฝั่ง ซึ่งข้อจำกัดก็คือพื้นที่หน้าตัดของตัวอย่างจะค่อนข้างเล็กตามขนาดของท่อนั้นเองครับ</p>

<p>•  ในวิธีที่ 1 เราจะต้องใช้วัสดุจริงหรือตัวอย่างวัสดุ หากทำกับ Chamber Room ขนาดของตัวอย่างผนังเรา อาจจะมีพื้นที่ประมาณ 4 ตารางเมตรขึ้นไปหรือขึ้นอยู่กับว่าห้องแลปนั้นรองรับขนาดของวัสดุเท่าไร</p>

<blockquote>
<p>2 .ผลจากการจำลอง Simulation โดยซอฟต์แวร์</p>
</blockquote>

<p><br>
<img src="https://cdn-images-1.medium.com/max/800/0*EczxnW63rFQUKrWr.JPG" alt="Bozz" class="center"></p>

<p><center>รูปที่ 5 <a href="http://www.insul.co.nz/">http://www.insul.co.nz/</a></center></p>

<p>ในปัจจุบัน เรามี software ที่ไว้สำหรับการ predict ค่า TL ของ Building Element ซึ่งค่อนข้างมีผลลัพธ์ใกล้เคียงกับการตรวจวัดจริง ไม่ว่าจะเป็น ฝ้า เพดาน พื้น กระจก ผนัง ฉนวนใยแก้ว เป็นต้น โดยการคำนวณจะอ้างอิงตามคุณสมบัติของวัสดุและองค์ประกอบอื่น ๆ ซึ่งในบทความนี้เราจะพูดถึงกันครัช</p>

<p>•  ในวิธีที่ 2 เราจะสามารถเซฟต้นทุนในการทดลองได้มากกว่าห้องแลปจริง เช่น สมมุติว่าค่าใช้จ่ายในการทดลองห้องกับแลป อยู่ที่ประมาณ 50,000 บาท 1 ตัวอย่าง/ครั้ง เราจะได้ผลการตรวจวัด เพียงตัวอย่างเดียวเท่านั้น ซึ่งหากต้องเปลี่ยนชนิดตัวอย่าง ก็ต้องอาจจะเสียค่าใช้จ่ายเพิ่มไปเรื่อย ๆ ซึ่งหากเราใช้ซอฟต์แวร์จะง่ายๆขึ้นมาก เพราะสามารถ Simulate ได้อย่างไม่จำกัดเลย เพียงแต่กลับกัน ในขณะที่เราไม่มีวัสดุจริง แต่เราต้องรู้ข้อมูลคุณสมบัติวัสดุ อย่างครบถ้วน</p>

<h2 id="stc-sound-tranmission-class-ค-ออะไร-ต-างก-บ-sound-transmission-loss-อย-างไร">STC (Sound Tranmission Class) คืออะไร ? ต่างกับ Sound Transmission loss อย่างไร</h2>

<p>จากข้างบนเราจะเห็นว่า TL คือข้อมูลที่บอกถึงประสิทธิภาพของการป้องกันเสียงในเชิงความถี่ทำให้จะลำบากต่อการอธิบายและประเมินให้อยู่ในรูปสรุปแบบง่าย ๆ โดย STC มีหน้าที่ประเมินค่า TL ให้อยู่ใน เลขเดียว เช่น STC-25, STC-40, STC-60 ซึ่งจะครอบคลุม TL ในช่วงความถี่ที่ 125 Hz จนถึง 4,000 Hz</p>

<p><br>
<img src="https://cdn-images-1.medium.com/max/800/1*ssGT3pZMtXvn_csW9u6Qbg.png" alt="Bozz" class="center"></p>

<p>ซึ่งวิธีคำนวณเบื้องต้น อ้างอิงตาม ASTM E413 จะมีเงื่อนไขดังนี้</p>

<p>ผลต่างรวม (Total Deficiency) จะต้องไม่เกิน 32
ผลต่าง ( Deficiency ) ในแต่ละความถี่จะต้องไม่เกิน 8
จะคำนวณก็ต่อเมื่อ TL value &lt; STC Contour โดยเราจะอ้างอิง STC-Number ที่ความที่ 500 Hz ครับ</p>

<p><br>
<img src="https://cdn-images-1.medium.com/max/800/1*wrt61LGdtDVe1nzxNNeNbQ.png" alt="Bozz" class="center"></p>

<p><center>ตาราง STC Ref Contour</center></p>

<p><br>
<img src="https://cdn-images-1.medium.com/max/800/1*8MmbsCEP4Lb8MDlqXLaKMQ.png" alt="Bozz" class="center"></p>

<p><center>รูปที่ 6 STC Curve / TL</center></p>

<p>ถ้าใครงง ด้านล่างมีลิงค์ Code อยู่ครับ function ชื่อ Eval_STC</p>

<p>•  STC ใช้เฉพาะ Partition เท่านั้นนะครับหากเป็นกำแพงกับสภาพแวดล้อมภายนอก จะใช้เป็น OITC แทนครับ</p>

<blockquote>
<h3 id="หล-งจากเราร-จ-กค-ามาตรฐานต-าง-ๆ-แล-ว-ลองมาด-ก-นว-าจะ-predict-แบบง-าย-ๆ-ได-อย-างไรบ-าง">หลังจากเรารู้จักค่ามาตรฐานต่าง ๆ แล้ว ลองมาดูกันว่าจะ Predict แบบง่าย ๆ ได้อย่างไรบ้าง</h3>
</blockquote>

<p>ก่อนอื่นขอเกริ่นเรื่อง ระบบผนัง กำแพงก่อนครับ โดยจะแบ่งรูปแบบของระบบผนัง กำแพงก่อน ซึ่งจะมีอยู่ 3 ลักษณะด้วยกัน</p>

<p><strong><em>1 ) Single Panel</em></strong></p>

<p>2 ) Double Panel</p>

<p>3 ) Double Panel with Absorber</p>

<p><br>
<img src="https://cdn-images-1.medium.com/max/800/1*D9cHagBcySvc5ILvtQdywA.png" alt="Bozz" class="center"></p>

<p><center>รูปที่ 7 ระบบผนังจำแนกตามประเภทการคำนวณ
</center></p>

<p>ในบทความนี้จะอธิบายในรูปแบบผนัง Single Panel ก่อน ซึ่งก็คือระบบผนังทึบหรือไม่มีช่องว่างด้านในและฉนวนภายในเลย เป็นเพียงแผ่นเดียว ๆ เท่านั้น ( ในรูปมันอ้วนไปหน่อย )</p>

<p>โดยโมเดลของเราจะอ้างอิงจาก Prediction tools for airborne sound insulation- evaluation and application. (ชื่อเต็มด้านล่างนะครับ)</p>

<blockquote>
<p>เพื่อความรวดเร็ว code เต็มดูได้ที่ GitHub ลิงค์อยู่ด้านล่างได้เลยครับ</p>
</blockquote>

<p>โดยก่อนที่เราจะ Predict เราต้องมีข้อมูลของคุณสมบัติวัสดุที่เราต้องการจะ Predict ก่อนโดยมีดังนี้ 1. Mass 2. Young Modulus 3. Damping Ratio 4.Thickness 5.Area of Panel (จะต้องใส่ค่า width และ height ของผนัง) ตามรูปด้านล่าง</p>

<p><br>
<img src="https://cdn-images-1.medium.com/max/800/1*2OY69DFhvMhtFwmGsYRbOw.png" alt="Bozz" class="center"></p>

<p><center>รูปที่ 8 คุณสมบัติวัสดุที่ใช้ในการ Predict TL
</center></p>

<h3 id="เร-มจากสมการ-mass-law">เริ่มจากสมการ Mass Law</h3>

<p><br>
<img src="https://cdn-images-1.medium.com/max/800/1*G7eC0cQ0EnVZEWXwO7GzAg.png" alt="Bozz" class="center"></p>

<p><center>สมการที่ 1 Mass Law
</center></p>

<p>สมการนี้จะกล่าวประมาณว่า หาก มวล มีค่ามากเท่าไร ค่า TL ก็จะยิ่งสูงตามเท่านั้น วัสดุมีน้ำหนักที่สูง ก็จะมีความสามารถในการลดทอนพลังงานเสียงสูง</p>

<p>โดยที่ R ก็คือ ผลลัพธ์ค่า TL , m คือ มวล, f คือ ความถี่</p>

<p>ทดลองโดย Mass = 7 kg นะครัช</p>

<p><br>
<img src="https://cdn-images-1.medium.com/max/800/1*udgAlym0WS3JCdciSpo2Kw.png" alt="Bozz" class="center"></p>

<p><center>รูปที่ 9 TL Masslaw
</center></p>

<p>จะเห็นได้ว่าผลลัพธ์นั้น ตรงดิ่งสุด ๆ เหมือนแค่แปรผันไปตามค่า mass เท่านั้นเอง แต่ว่ามันยังไม่จบแค่นั้น</p>

<p>เรายังมีสิ่งที่เรียกว่า <strong><em>Critical Frequency</em></strong> ซึ่งก็คือความถี่สั่นพ้อง</p>

<p>กล่าวแบบง่ายย่อยสุด ๆ ก็คือ เมื่อความถี่เสียงในอากาศมี wavelength เท่ากับ bending wave ของวัสดุุนั้นเอง ( ความถี่พ้องกัน ) จะเกิดปรากฎการณ์ที่เรียกว่า coincidence effect ซึ่งเป็นผลให้วัสดุเกิดการสั่นตัวสูง ส่งผลให้การป้องกันเสียงมีประสิทธิภาพที่น้อยลงอย่างมาก หรือเข้าใจง่าย ๆ ก็คือ จุด breakdown ของการป้องกันเสียงของวัสดุครับ</p>

<p><br>
<img src="https://cdn-images-1.medium.com/max/800/1*AVEZ4eCri8R58iGFqEKRRg.png" alt="Bozz" class="center"></p>

<p><center>รูปที่ 10 <a href="http://personal.cityu.edu.hk/~bsapplec/transmis2.htm">http://personal.cityu.edu.hk/~bsapplec/transmis2.htm</a>
</center></p>

<p>โดยจะคำนวณผ่านค่า Bending ซึ่งก็มาจาก Young Modulus และ Thickness หลังจากที่เราได้ค่า Critical Frequency แล้ว เราสามารถใช้สมการต่อไปได้ก็คือ</p>

<h3 id="mass-law-including-bending-wave">Mass Law (including Bending Wave)</h3>

<p><br>
<img src="https://cdn-images-1.medium.com/max/800/1*w7iVIDIuVwhTy0N4nJDygg.png" alt="Bozz" class="center"></p>

<p><center>สมการที่ 2 Mass law bending wave
</center></p>

<p>ในทีนี้จะใช้ค่า Thick = 10 mm, Modulus = 4 GPa, Damping Ratio 0.1</p>

<p><br>
<img src="https://cdn-images-1.medium.com/max/800/1*7bk42IvcpCa5ZKcPSHrb6Q.png" alt="Bozz" class="center"></p>

<p><center>รูปที่ 11 Mass Law with Bending wave
</center></p>

<p>จากค่าคุณสมบัติของวัสดุดังกล่าวสามารถประมาณค่า Critical Frequency ได้ประมาณที่ 2712 Hz ซึ่งจะสอดคล้องกับ coincidence effect ที่ทำให้ประสิทธิภาพของการป้องกันเสียงลดลง</p>

<p>จากกราฟเราก็จะเห็นว่าตั้งแต่ความถี่ 2.5k Hz ค่า TL เริ่มมีแนวโน้มที่จะลดลงเรื่อย ๆ จนถึงช่วงความถี่ที่ 3.15k Hz จะเป็นช่วงต่ำสุดแล้วรีบดีดตัวขึ้นมา ซึ่งในช่วงนี้เองก็คือผลการคำนวณจากสมการที่ 2 Mass law Bending waves</p>

<blockquote>
<p>ตอนนี้เราได้เงื่อนไขและสมการในระดับนึงแล้วลองเขียนเป็น Code ดูนะครัช</p>
</blockquote>

<pre><code class="language-python">class SinglePanel():

    def __init__(self,Mass,Thick,Modulus,Damp,width,height): #Essential Attribute
        self.Mass = Mass #Mass as Kg unit
        self.Thick = Thick/1000 # Thickness as mm unit
        self.Modulus = Modulus*10**9 #Young Modulus as GPa unit
        self.Damp = Damp #Damping ratio
        self.Area = width*height #Area of Sample as m^2 unit
        self.f=[50,63,80,100,125,160,200,250,315,400,500,630,800,1000,1250,1600,2000,2500,3150,4000,5000] #1/3 Octave freq band
        self.c = 343 #speed of airborne sound
        self.height = height # for calculate delta Rm

    def Crifreq(self):  # calc Critical Frequency or Resonant frequency
        fc = ((self.c ** 2) / 6.283185) * (np.sqrt(self.Mass / (((self.Modulus) * ((self.Thick) ** 3)) / 11.988)))
        return fc

    def Masslaw(self):  # calc TL by Masslaw with Bending waves or Resotant transmission
        fc = SinglePanel.Crifreq(self)
        f = self.f
        fc = SinglePanel.Crifreq(self)
        T_1 = [(20 * (np.log10(self.Mass * f[i])) - 44) for i in range(0, len(f)) if f[i] &lt;= fc]
        T_2 = [(20 * (np.log10(self.Mass * f[i]))) + (10 * np.log10((2 * self.Damp * f[i]) / (np.pi * fc))) - 48 for i
               in range(0, len(f)) if f[i] &gt;= fc]
        TL = T_1 + T_2
        return TL
</code></pre>

<p><br></p>

<h3 id="sewell-s-correction-สำหร-บความถ-ต-ำ">Sewell’s correction สำหรับความถี่ต่ำ</h3>

<p><br>
<img src="https://cdn-images-1.medium.com/max/800/1*FwFgfkMic_0lTOLItJmDwA.png" alt="Bozz" class="center"></p>

<p><center>สมการที่ 3 low freq-correction
</center></p>

<p>จาก method ที่เราอ้างอิงมาจะมีการกล่าวถึงวิธี Predict ในย่านความถี่ต่ำ ( f &lt; 200 Hz ) โดยจะมีตัวแปรสำคัญต่าง ๆ เช่น omega ของ critical frequency , wave number รวมถึงพื้นหน้าตัดของผนังมา ในที่นี้ พื้นที่หน้าตัดของผนังอยู่ที่ 6 m²</p>

<p><br>
<img src="https://cdn-images-1.medium.com/max/800/1*ex0KmIHtB9GR0G2j4CR8_w.png" alt="Bozz" class="center"></p>

<p><center>รูปที่ 12 Low-freq-correction
</center></p>

<p>จะพบว่าความถี่ในช่วง 50 -200 ได้มีการลดทอนลงไป เนื่องสมการหลัก Mass law ถูกลดทอนในช่วงความถี่ต่ำจากสมการที่ 3 นั้นเอง</p>

<blockquote>
<p>เพิ่มเติม function ของ Sewell และสรุปรวมผล</p>
</blockquote>

<pre><code class="language-python">def FqLow(self):  # calc low-frequency correction (TL below 200 Hz)
    fc = SinglePanel.Crifreq(self)
    fLow = [50, 63, 80, 100, 125, 160, 200]
    omegaC = 2 * np.pi * fc
    kw = [(2 * np.pi * fLow[i]) / self.c for i in range(0, len(fLow))]
    omega = [(2 * np.pi * fLow[i]) for i in range(0, len(fLow))]
    Rlow = [-10 * np.log10(np.log(kw[i] * (self.Area ** 0.5))) + 20 * np.log10(1 - (omega[i] / omegaC) ** 2) for i in range(0, len(fLow))]
    return Rlow

def Values(self):  # Summarize formula
    TL = SinglePanel.Masslaw(self)
    Rlow = SinglePanel.FqLow(self)
    fc = SinglePanel.Crifreq(self)
    f = self.f 
    for i in range(0, len(f)):
        if f[i] &lt;= 200:
            TL[i] = TL[i] + Rlow[i]
        else:
            TL[i] = TL[i]
    R_TL = [TL[i] for i in range(0, len(f)) if f[i] &gt;= 125 and f[i] &lt;= 4000]  # slice data as STC freq range 125 Hz - 4 KHz
    return R_TL, TL #[0] for STC / [1] for fullrange values

</code></pre>

<p>ทำการประเมินด้วย STC และใช้ Matplotlib ง่ายๆ พล็อตกราฟออกมา</p>

<p><br>
<img src="https://cdn-images-1.medium.com/max/800/1*8MmbsCEP4Lb8MDlqXLaKMQ.png" alt="Bozz" class="center"></p>

<p><center>รูปที่ 13 TL with STC
</center></p>

<p>ใช้ Pandas ทำข้อมูลให้อยู่ในรูป DataFrame
<br>
<img src="https://cdn-images-1.medium.com/max/800/1*VmcYbZ1PZUVXjzKwDtWCRA.png" alt="Bozz" class="center"><br />
<br>
<img src="https://cdn-images-1.medium.com/max/800/1*_Gndg0KrtJQf7K-Xq3cfbQ.png" alt="Bozz" class="center"></p>

<blockquote>
<p>Code ทั้งหมดและวิธีใช้สามารถดูได้ใน GitHub นะครับ</p>
</blockquote>

<pre><code class="language-python">def Eval_STC(self):  # Evaluation Standard Transmission loss
    s = [[i - 16, i - 13, i - 10, i - 7, i - 4, i - 1, i, i + 1, i + 2, i + 3, i + 4, i + 4, i + 4, i + 4, i + 4,i + 4] for i in range(150)]  # STC Contourf = [12.45,14,15.45,20.9,22.9,24.9,26.9,28.9,31,32.9,34.8,37,38.9,40.9,17.7,20.8]
    f = SinglePanel.Values(self)[0]
    for x in range(0, len(s)):  # STC Contour Condition
        for y in range(0, 16):
            if f[y] &lt; s[x][y]:
                s[x][y] = abs(f[y] - s[x][y])  # TL below STC contour
            else:
                s[x][y] = 0
    x = [s[t] if sum(s[t]) &lt;= 32 else False for t in range(0, len(s))]  # total deficiency condition
    y = [x[t] for t in range(0, len(x)) if x[t] != False]  # silce total deficiency &gt; 32
    for i_1 in range(0, len(y)):
        for i_2 in range(0, 16):
            if y[i_1][i_2] &gt; 8: # index more than 8
                y[i_1][i_2] = False

    num = [z for z in y if not any(isinstance(e, (str, bool)) for e in z)] # clear False
    STC = (len(num) - 1) # Maximum STC
    Def = sum(num[STC]) # Deficiency STC
    return STC, Def

def plot(self):  # Visualize the Transmission loss data and STC-Contour
    TL = SinglePanel.Values(self)[0]
    v = SinglePanel.Eval_STC(self)[0]
    s = [v - 16, v - 13, v - 10, v - 7, v - 4, v - 1, v, v + 1, v + 2, v + 3, v + 4, v + 4, v + 4, v + 4, v + 4,v+4]  # STC Contour
    f = [125, 160, 200, 250, 315, 400, 500, 630, 800, 1000, 1250, 1600, 2000, 2500, 3150,4000]  # 1/3 Octave freq band
    xi = [i for i in range(0, len(f))]
    plt.figure(figsize=(18, 8))
    plt.plot(TL, 'b', linewidth=2)
    plt.plot(s, 'g--', linewidth=1.8)
    plt.annotate('Initials : Peem Srinikorn', xy=(0.85, 0.04), fontsize=12, bbox=dict(facecolor='cyan', alpha=0.5),
                     xycoords='axes fraction')
    plt.title('Single Panel Sound Transmission loss', fontsize=18)
    plt.xlabel('1/3 Octave Frequency [Hz]', fontsize=15)
    plt.ylabel('R Transmiss loss [dB]', fontsize=15)
    plt.legend(['Transmission loss', 'STC {}'.format(s[6])], fontsize=15, loc='best')
    plt.xticks(xi, f, fontsize=12)
    plt.yticks(fontsize=12)
    plt.grid(linestyle='-', linewidth=0.5)
    return plt.show()
</code></pre>

<h2 id="ว-ธ-ใช-code-ง-าย-ๆ-นะคร-บ">วิธีใช้ code ง่าย ๆ นะครับ</h2>

<pre><code class="language-python">if __name__ == '__main__':
    ### Attribute ##(Mass,Thick,Modulus,Damp,Width,Height): 
    Single = SinglePanel(7,10,4,0.1,3,2)
    Single.plot() #plot TL/STC
    Single.info() #read infomation as dictionary
    Single.data() #read TL data as dictionary
</code></pre>

<p>เพียงแค่นี้ก็พล๊อตดูข้อมูลได้แล้ว code ด้านบนทั้งหมดเป็น code สำหรับประมวลผลพวกเรื่องการคำนวณ ประเมิน ต่างๆนะครัช</p>

<h1 id="สร-ปผล">สรุปผล</h1>

<p>จากทั้งหมดที่กล่าวมาด้านบนเราจะพบว่า คุณสมบัติของวัสดุต่าง มีผลต่อการป้องกันเสียง เช่น Mass ที่แทบจะเป็นตัวกำหนดค่า TL ได้เลย ขณะที่ Critical Frequency แปรผันตาม Young Modulus และ dip ของ coincidence ที่แปรผันตาม Damping Ratio เป็นต้น หากใครอยากลองศึกษารายละเอียดลองนำโค้ดไปพล็อตเล่นดูครับ</p>

<p>ทั้งหมดนี้เป็นเพียงตัวอย่างแบบง่าย สำหรับการ Predict TL เท่านั้นครับ ทั้งนี้คือโมเดลขาดองค์ประกอบอื่นหลายอย่างที่สัมพันธ์กับความจริง เช่น โครงสร้างภายในผนัง อุณหภูมิ Reverb Time ในสภาพแวดล้อมนั้น ผนังอาจจะถูกเจาะรูเพื่อทำปลั้กไฟ วิธีการก่อสร้าง หรือแม้แต่ วิธีการตรวจวัด เองก็ตามและอื่น ๆ ที่เป็น Factor ที่เราไม่สามารถควมคุมได้</p>

<p>หลาย ๆ สำนักก็เลยทำตารางเปรียบเทียบว่าถ้าตรวจวัดใน Lab แล้วได้เท่านี้ ถ้าไปวัดในพื้นที่จริง (Field) จะลดถอนไปประมาณเท่าไร</p>

<p><br>
<img src="https://cdn-images-1.medium.com/max/800/1*NJCfhYpoffIpTUad6Q3P7w.png" alt="Bozz" class="center"></p>

<p>จากตารางด้านบนก็จะเห็นว่า ค่า STC ก็คือผลที่วัดออกมาจาก Lab ในขณะที่ ค่า FSTC (Field-STC) ก็คือผลจากการตรวจวัดสภาพแวดล้อมจริง ลดทอนไปในช่วงที่แตกต่างและปริมาณที่แตกต่างกัน ซึ่งมาจากปัจจัยต่าง ๆ ที่กล่าวไว้ด้านบน</p>

<blockquote>
<p>ดังนั้นค่าที่เราได้จากการตรวจวัดในห้องแลปหรือจากการ Predict จะเป็นเพียงค่าที่ไว้อ้างอิงเท่านั้น ซึ่งการ Predict บางซอฟต์แวร์จะตั้งค่า error ไว้เลย เช่น +/- 3 STC , +/- 5 STC เป็นต้น</p>
</blockquote>

<p><a href="../model_stc_p2">Click</a> อ่าน Part 2 : Double Panel and Double Panel with Absorber Insulation, Stud Connection</p>

<blockquote>
<p>อ้างอิง / Reference</p>
</blockquote>

<ul>
<li><p>Jason Esan Cambridge (2006). Prediction tools for airborne sound insulation-evaluation and application. Department of Civil and Environmental Engineering Division of Applied Acoustics, CHALMERS UNIVERSITY OF TECHNOLOGY, Sweden</p></li>

<li><p><a href="https://www.foldor.co.il/wp-content/files_mf/136991149928751FSTC.pdf">https://www.foldor.co.il/wp-content/files_mf/136991149928751FSTC.pdf</a> / M.David Egan, Architectural Acoustics.</p></li>
</ul>

<p><strong>GitHub : <a href="https://github.com/bozzlab/Model_TL-STC">https://github.com/bozzlab/Model_TL-STC</a></strong></p>

<p>คอมเม้นกันได้นะครับ เหงามาก</p>

<p>ปล. update code แล้วนะครับ 11 Nov 2018 เช็คได้ที่ repo GitHub</p>

    </div>
    
      <div class="pagination">
        <div class="pagination__title">
          <span class="pagination__title-h">Read other posts</span>
          <hr />
        </div>
        <div class="pagination__buttons">
          
            <span class="button previous">
              <a href="/post/model_stc_p2/">
                <span class="button__icon">←</span>
                <span class="button__text">มาลองใช้ Python สร้างโมเดล Predict ค่า Sound Transmission loss (TL/STC) [Part-2]</span>
              </a>
            </span>
          
          
        </div>
      </div>
    

    

<script id="dsq-count-scr" src="//bozzlab-github-io.disqus.com/count.js" async></script>
<div id="disqus_thread"></div>
<script>





(function() { 
var d = document, s = d.createElement('script');
s.src = 'https://bozzlab-github-io.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>





    </div>

  </div>

  
    <footer class="footer">
  <div class="footer__inner">
    
      <div class="copyright copyright--user">Bozzlab @ 2019</div>
    
  </div>
</footer>

<script src="/assets/main.js"></script>
<script src="/assets/prism.js"></script>


  
</div>

</body>
</html>
